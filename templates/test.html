<!DOCTYPE html>
<html>
<head>
<!-- Font Awesome -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
<!-- Google Fonts -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
<!-- Bootstrap core CSS -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
<!-- Material Design Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.14.0/css/mdb.min.css" rel="stylesheet">

<!-- JQuery -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<!-- Bootstrap tooltips -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
<!-- Bootstrap core JavaScript -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/js/bootstrap.min.js"></script>
<!-- MDB core JavaScript -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.14.0/js/mdb.min.js"></script>

<script>
    $( document ).ready(function() {
        //alert( "ready!" );
        //$("#group1").hide();
        //$("#group2").hide();
    });
    function demo(groupId){
    	debugger;
        $(".custom").hide();
        $(groupId).show();
        var ids = $(groupId).children("label").map(function(){
                  return $(this).attr('id');
                  }).get();
        console.log(ids);
        var label1 = $("#"+ids[0]).text();
        var label2 = $("#"+ids[1]).text();
        $("#lionelField1").text(label1);
        $("#lionelField2").text(label2);
        $("#macField1").text(label1);
        $("#macField2").text(label2);
        
    }
    function label(){
    	debugger;
    	var bool;
    	if ($("#defaultGroupExample1").is(":checked")) {
bool = '#group1';
   
}

if ($("#defaultGroupExample2").is(":checked")) {
   bool = '#group2';
}
var ids = $('#group1').children("label").map(function(){
                  return $(this).attr('id');
                  }).get();
        console.log(ids);
        var label1 = $("#"+ids[0]).text();
        var label2 = $("#"+ids[1]).text();
        $("#lionelField1").text(label1);
        $("#lionelField2").text(label2);
        $("#macField1").text(label1);
        $("#macField2").text(label2);
    }
    function newWindowMethod() {
      var wi = window.open('subdemo.html');
    }
    function clearFields(){
        $('#charger').val('');
        $('#charger1').val('');
        $('#charger2').val('');
        $('#charger3').val('');
    }
    /*function calculation(){
        var userInput = document.getElementById('field1').value;
        var userInput1 = document.getElementById('field2').value;
        var usercost = document.getElementById('txt2').value;
        var chacost = parseFloat(userInput) + parseFloat(userInput1) + parseFloat(usercost);
        var expenditure = getElementById('expenditure');
        expenditure.value = chacost;
        var userInput2 = document.getElementById('field3').value;
        var userInput3 = document.getElementById('field4').value;
        var usercost = document.getElementById('txt2').value;
        var chacost = parseFloat(userInput2) + parseFloat(userInput3) + parseFloat(usercost);
        var expenditure = getElementById('expenditure');
        expenditure.value = chacost;
        
    }*/
</script>
<style>
.column {
  float: left;
  width: 50%;
  padding: 15px;
}

/* Clear floats after the columns */
.row:after {
  content: "";
  display: table;
  clear: both;
}
.form-control-sm{
    width:30%;
}
body {
  background-image: url('C:/Users/asus/project/templates/1200px-STM_(logo,_2010).png');
}
</style>
</head>
    <body>
        <div>
            <h3 style="margin-left: 20px">Transit Electrification Stimulation Software</h3>
            <p>
                <form method="post">
                    <div class="custom-control custom-radio">
                        <h5 style="margin-left: 20px">Select Manufacturer</h5>
                        <input type="radio" class="custom-control-input" id="defaultGroupExample1"
                            name="groupOfDefaultRadios" onclick="demo(group1);" style="margin-left: 10px">
                        <label class="custom-control-label" for="defaultGroupExample1"
                            style="margin-left: 20px">HELIOX</label>
                        <div id="group1" style="display: none;" class="custom">
                            <label id="labField1" name="labField1">OC450kW (Power: 450kW):</label><input
                                class="form-control form-control-sm" type="number" id="field1" name="field1">
                            <label id="labField2" name="labField2">Fast DC 50kW (Power: 50kW):</label><input
                                class="form-control form-control-sm" type="number" id="field2" name="field2">
                        </div>
                    </div>
                    <div class="custom-control custom-radio">
                        <input type="radio" class="custom-control-input" id="defaultGroupExample2"
                            name="groupOfDefaultRadios" onclick="demo(group2);" style="margin-left: 20px">
                        <label class="custom-control-label" for="defaultGroupExample2" style="margin-left: 20px">ABB</label>
                        <div id="group2" style="display: none;" class="custom">
                            <label id="labField3" name="labField3">HVC 300PD (Power: 300kW)</label><input
                                class="form-control form-control-sm" type="number" id="field3" name="field3">
                            <label id="labField4">HVC 100PU-S (Power: 100kW)</label><input
                                class="form-control form-control-sm" type="number" id="field4" name="field4">
                        </div>
                    </div>
                    <div style="margin-left: 20px">
                        <label for="battery">Select the battery options:</label><select class="form-control form-control-sm"
                            id="battery" name="battery" style="width:30%;" style="margin-left: 20px">
                            <option value="294" id="294kW" name="b294kW">NOVABUS LFSe+ with 294kWh</option>
                            <option value="394" id="394kW" name="b394kW">NOVABUS LFSe+ with 394kWh</option>
                        </select>
                    </div>
                    <div style="margin-left: 20px">Enter the unit cost of LFSe+:<input class="form-control form-control-sm"
                            type="number" id="txt2" name="txt2"></div>
                    <input class="btn btn-info btn-rounded" type="submit" name="form" value="Submit" onclick="label();" 
                        style="margin-left: 20px" />
                </form>
            </p>
        </div>
        {% if res %}
        <h3 style="margin-left: 20px">Pre-Configured Plan</h3>
  <div class="row">
    <div class="column" style="">
      <h4 style="margin-left: 20px">Lionel-Groulx</h4>
      <label id="lionelField1" style="margin-left: 20px">OC 450kW:</label>
        <input class="form-control form-control-sm"
            type="text" id="charger" style="margin-left: 20px" value="{{ res.e }}"> 
      <label id="lionelField2" style="margin-left: 20px">Fast DC 50kW:</label>
        <input class="form-control form-control-sm" type="text"
         id="charger1" value="{{ res.c }}" style="margin-left: 20px" >
    </div>
    <div class="column" style="">
      <h4 style="margin-left: 20px">MacDonald</h4>
      <label id="macField1" style="margin-left: 20px">OC 450kW:</label>
        <input class="form-control form-control-sm"
            type="text" id="charger2" style="margin-left: 20px" value="{{ res.d }}">
      <label id="macField2" style="margin-left: 20px">FAST DC 50kW:</label>
        <input class="form-control form-control-sm"
            type="text" id="charger3" style="margin-left: 20px" value="{{ res.b }}">
    </div>
  </div>
  <label style="margin-left: 20px">Number of Buses to be purchased: </label><br>
    <input class="form-control form-control-sm" type="text" id="buses" style="margin-left: 20px" value="{{ res.a }}">
  <div>
    <h6 style="margin-left: 20px">Overall Expenditure: <input class="form-control form-control-sm" type="text"
        id="expenditure" readonly="true/" name="expenditure" value="{{ res.g }}"></h6>
    <button type="button" style="margin-left: 20px" class="btn b tn-info btn-rounded" id="updateField"
      onclick="clearFields()">Update Fields</button><button type="button" class="btn btn-info btn-rounded"
      style="margin-left: 20px" id="schedule" onclick="myFunction();">Show Schedule</button>
  </div>
  </p>

  <div class="table-responsive text-nowrap table-striped" id="tab">
  	<div>
	<h3>Display Panel</h3></div>
    <table class="table table-bordered" id="bus-time-table">
      <thead class="black white-text">
        <tr>
          <th scope="col" colspan="2" align="center">Bus</th>
          <th scope="col" colspan="2">Trip Schedule</th>
          <th scope="col" colspan="3">Charging Schedule</th>
          <tr>
              <th scope="col">Bus ID</th>
              <th scope="col">Bat. Size</th>
              <th scope="col">East Time</th>
              <th scope="col">West Time</th>
              <th scope="col">Charger ID</th>
              <th scope="col">East Charging Times</th>
              <th scope="col">West Charging Times</th>
          </tr>
        </tr>
      </thead>
      <tbody>
          {% for  i in res.bus_schedule %}
        <tr>
          <th scope="row">STM - {{i.bus_number}}</th>
          <td scope="row">{{i.bat_size}}kWh</td>
          <td>{{i.east_time}}</td>
          <td>{{i.west_time}}</td>
          <td>ON - {{i.ID}} , DA - {{i.FID}}</td>
       	  <td>[{{i.oeast_time}}] , [{{i.feast_time}}]</td>
       	  <td>[{{i.owest_time}}] , [{{i.fwest_time}}]</td></tr>
       {% endfor %}
       	
      </tbody>
    </table>
        {% endif %}
        <script>
            function myFunction() {
                var x = document.getElementById("bus-time-table");
                x.style.display = "block";

            }

            (function() {
                var x = document.getElementById("bus-time-table");
                x.style.display = "none";
            })();
        </script>
    </body>
</html>